import{Q as ae,R as b,U as re,Z as se,qa as w,s as te,sa as D,t as ne,u as ie,v as oe}from"./chunk-U4BZDACT.js";import{$c as M,Ab as c,Dc as K,Ea as S,Ec as Y,Fa as v,Ga as _,Ib as T,Oa as m,Ob as x,Ta as y,Tb as q,Ub as j,Vb as E,Wb as I,bc as k,cd as O,db as L,dd as ee,gc as u,ha as $,hc as f,ic as U,mc as A,p as F,pc as g,rb as Q,rc as z,sc as P,tc as G,ua as H,vb as N,w as C,wc as X,x as l,xc as Z,yc as J,zb as W}from"./chunk-DNCYZTAJ.js";var pe=["*"];function me(a,d){if(a&1){let t=A();u(0,"nz-icon",1),g("click",function(i){v(t);let s=z();return _(s.closeTag(i))}),f()}}var we=(()=>{class a{cdr;renderer;elementRef;directionality;isPresetColor=!1;nzMode="default";nzColor;nzChecked=!1;nzBordered=!0;nzOnClose=new m;nzCheckedChange=new m;dir="ltr";destroy$=new F;constructor(t,o,i,s){this.cdr=t,this.renderer=o,this.elementRef=i,this.directionality=s}updateCheckedStatus(){this.nzMode==="checkable"&&(this.nzChecked=!this.nzChecked,this.nzCheckedChange.emit(this.nzChecked))}closeTag(t){this.nzOnClose.emit(t),t.defaultPrevented||this.renderer.removeChild(this.renderer.parentNode(this.elementRef.nativeElement),this.elementRef.nativeElement)}clearPresetColor(){let t=this.elementRef.nativeElement,o=new RegExp(`(ant-tag-(?:${[...ne,...te].join("|")}))`,"g"),i=t.classList.toString(),s=[],h=o.exec(i);for(;h!==null;)s.push(h[1]),h=o.exec(i);t.classList.remove(...s)}setPresetColor(){let t=this.elementRef.nativeElement;this.clearPresetColor(),this.nzColor?this.isPresetColor=ie(this.nzColor)||oe(this.nzColor):this.isPresetColor=!1,this.isPresetColor&&t.classList.add(`ant-tag-${this.nzColor}`)}ngOnInit(){this.directionality.change?.pipe($(this.destroy$)).subscribe(t=>{this.dir=t,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngOnChanges(t){let{nzColor:o}=t;o&&this.setPresetColor()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static \u0275fac=function(o){return new(o||a)(c(M),c(W),c(y),c(re))};static \u0275cmp=T({type:a,selectors:[["nz-tag"]],hostAttrs:[1,"ant-tag"],hostVars:12,hostBindings:function(o,i){o&1&&g("click",function(){return i.updateCheckedStatus()}),o&2&&(E("background-color",i.isPresetColor?"":i.nzColor),I("ant-tag-has-color",i.nzColor&&!i.isPresetColor)("ant-tag-checkable",i.nzMode==="checkable")("ant-tag-checkable-checked",i.nzChecked)("ant-tag-rtl",i.dir==="rtl")("ant-tag-borderless",!i.nzBordered))},inputs:{nzMode:"nzMode",nzColor:"nzColor",nzChecked:[2,"nzChecked","nzChecked",O],nzBordered:[2,"nzBordered","nzBordered",O]},outputs:{nzOnClose:"nzOnClose",nzCheckedChange:"nzCheckedChange"},exportAs:["nzTag"],features:[S],ngContentSelectors:pe,decls:2,vars:1,consts:[["nzType","close","tabindex","-1",1,"ant-tag-close-icon"],["nzType","close","tabindex","-1",1,"ant-tag-close-icon",3,"click"]],template:function(o,i){o&1&&(P(),G(0),x(1,me,1,0,"nz-icon",0)),o&2&&(N(),k(i.nzMode==="closeable"?1:-1))},dependencies:[D,w],encapsulation:2,changeDetection:0})}return a})();var ue=["textEl"];function fe(a,d){if(a&1&&U(0,"nz-icon",1),a&2){let t=z();j("nzType",t.nzIcon)}}function ge(a,d){if(a&1){let t=A();u(0,"img",4),g("error",function(i){v(t);let s=z();return _(s.imgError(i))}),f()}if(a&2){let t=z();j("src",t.nzSrc,Q),q("srcset",t.nzSrcSet)("alt",t.nzAlt)}}function Ce(a,d){if(a&1&&(u(0,"span",3,0),K(2),f()),a&2){let t=z();N(2),Y(t.nzText)}}var Se="avatar",qe=(()=>{let a,d=[],t=[],o,i=[],s=[],h,B=[],V=[];return class R{static{let r=typeof Symbol=="function"&&Symbol.metadata?Object.create(null):void 0;a=[b()],o=[b()],h=[b()],C(null,null,a,{kind:"field",name:"nzShape",static:!1,private:!1,access:{has:e=>"nzShape"in e,get:e=>e.nzShape,set:(e,n)=>{e.nzShape=n}},metadata:r},d,t),C(null,null,o,{kind:"field",name:"nzSize",static:!1,private:!1,access:{has:e=>"nzSize"in e,get:e=>e.nzSize,set:(e,n)=>{e.nzSize=n}},metadata:r},i,s),C(null,null,h,{kind:"field",name:"nzGap",static:!1,private:!1,access:{has:e=>"nzGap"in e,get:e=>e.nzGap,set:(e,n)=>{e.nzGap=n}},metadata:r},B,V),r&&Object.defineProperty(this,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:r})}nzConfigService;cdr;_nzModuleName=Se;nzShape=l(this,d,"circle");nzSize=(l(this,t),l(this,i,"default"));nzGap=(l(this,s),l(this,B,4));nzText=l(this,V);nzSrc;nzSrcSet;nzAlt;nzIcon;nzError=new m;hasText=!1;hasSrc=!0;hasIcon=!1;customSize=null;textEl;el=H(y).nativeElement;constructor(r,e){this.nzConfigService=r,this.cdr=e,L(()=>this.calcStringSize())}imgError(r){this.nzError.emit(r),r.defaultPrevented||(this.hasSrc=!1,this.hasIcon=!1,this.hasText=!1,this.nzIcon?this.hasIcon=!0:this.nzText&&(this.hasText=!0),this.cdr.detectChanges(),this.setSizeStyle(),this.calcStringSize())}ngOnChanges(){this.hasText=!this.nzSrc&&!!this.nzText,this.hasIcon=!this.nzSrc&&!!this.nzIcon,this.hasSrc=!!this.nzSrc,this.setSizeStyle(),this.calcStringSize()}calcStringSize(){if(!this.hasText||!this.textEl)return;let r=this.textEl.nativeElement,e=r.offsetWidth,n=this.el.getBoundingClientRect?.().width??0,p=this.nzGap*2<n?this.nzGap*2:8,ce=n-p<e?(n-p)/e:1;r.style.transform=`scale(${ce}) translateX(-50%)`,r.style.lineHeight=this.customSize||""}setSizeStyle(){typeof this.nzSize=="number"?this.customSize=`${this.nzSize}px`:this.customSize=null,this.cdr.markForCheck()}static \u0275fac=function(e){return new(e||R)(c(ae),c(M))};static \u0275cmp=T({type:R,selectors:[["nz-avatar"]],viewQuery:function(e,n){if(e&1&&X(ue,5),e&2){let p;Z(p=J())&&(n.textEl=p.first)}},hostAttrs:[1,"ant-avatar"],hostVars:20,hostBindings:function(e,n){e&2&&(E("width",n.customSize)("height",n.customSize)("line-height",n.customSize)("font-size",n.hasIcon&&n.customSize?n.nzSize/2:null,"px"),I("ant-avatar-lg",n.nzSize==="large")("ant-avatar-sm",n.nzSize==="small")("ant-avatar-square",n.nzShape==="square")("ant-avatar-circle",n.nzShape==="circle")("ant-avatar-icon",n.nzIcon)("ant-avatar-image",n.hasSrc))},inputs:{nzShape:"nzShape",nzSize:"nzSize",nzGap:[2,"nzGap","nzGap",ee],nzText:"nzText",nzSrc:"nzSrc",nzSrcSet:"nzSrcSet",nzAlt:"nzAlt",nzIcon:"nzIcon"},outputs:{nzError:"nzError"},exportAs:["nzAvatar"],features:[S],decls:3,vars:1,consts:[["textEl",""],[3,"nzType"],[3,"src"],[1,"ant-avatar-string"],[3,"error","src"]],template:function(e,n){e&1&&x(0,fe,1,1,"nz-icon",1)(1,ge,1,3,"img",2)(2,Ce,3,1,"span",3),e&2&&k(n.nzIcon&&n.hasIcon?0:n.nzSrc&&n.hasSrc?1:n.nzText&&n.hasText?2:-1)},dependencies:[D,w,se],encapsulation:2,changeDetection:0})}})();export{we as a,qe as b};
