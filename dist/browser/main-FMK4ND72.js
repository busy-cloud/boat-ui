import{l as fe}from"./chunk-SGZFDUJP.js";import{r as le,s as Dt}from"./chunk-AVGCSOG7.js";import{Aa as Wt,Ab as qt,Bb as $t,D as Mt,Db as Zt,Eb as ge,Fb as M,Gb as Qt,Jb as Xt,Kb as Yt,M as Tt,Mb as _e,Q as se,U as Pt,V as ae,Y as Ot,ca as It,da as kt,f as Ct,fa as Nt,g as zt,ga as Ft,h as yt,hb as Lt,i as vt,ib as Ht,j as wt,k as bt,l as re,m as k,ma as Et,n as xt,na as Rt,nb as $,o as St,oa as At,pa as Bt,pb as de,qa as N,qb as me,ra as Vt,rb as Z,sa as ce,sb as pe,tb as Ut,ub as ue,vb as he,za as jt}from"./chunk-KISR42AE.js";import{$a as Je,$c as dt,Ab as d,Ad as ft,Bb as nt,Bd as gt,Cc as I,Dc as _,Ea as Ne,Ec as q,Fa as m,Fc as B,Ga as p,Hd as _t,Ib as z,Ic as rt,Jb as it,Jc as st,Ka as Xe,Kb as ot,Kc as at,Ma as Ye,Mc as Ae,Nc as ne,Oa as P,Ob as y,Oc as ie,Pa as Ge,Pc as lt,Ta as W,Ub as u,Vb as Ee,Vc as X,Wb as te,Yc as ct,a as Le,b as He,bc as R,cb as Ke,cd as oe,dc as A,ec as x,fc as S,gc as a,ha as Ie,hc as l,ic as f,ma as Ue,mc as C,md as mt,oa as j,od as pt,p as Oe,pa as qe,pc as h,ra as $e,rb as K,rc as g,sb as et,sc as L,ta as ke,tc as H,ua as E,ub as Fe,vb as c,vc as Re,vd as ut,wc as U,xa as Ze,xc as D,xd as ht,ya as Qe,yb as tt,yc as O,zb as ee}from"./chunk-DNCYZTAJ.js";var v=class s{constructor(){this._dataLength=0,this._bufferLength=0,this._state=new Int32Array(4),this._buffer=new ArrayBuffer(68),this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}static hashStr(i,e=!1){return this.onePassHasher.start().appendStr(i).end(e)}static hashAsciiStr(i,e=!1){return this.onePassHasher.start().appendAsciiStr(i).end(e)}static _hex(i){let e=s.hexChars,t=s.hexOut,n,o,r,w;for(w=0;w<4;w+=1)for(o=w*8,n=i[w],r=0;r<8;r+=2)t[o+1+r]=e.charAt(n&15),n>>>=4,t[o+0+r]=e.charAt(n&15),n>>>=4;return t.join("")}static _md5cycle(i,e){let t=i[0],n=i[1],o=i[2],r=i[3];t+=(n&o|~n&r)+e[0]-680876936|0,t=(t<<7|t>>>25)+n|0,r+=(t&n|~t&o)+e[1]-389564586|0,r=(r<<12|r>>>20)+t|0,o+=(r&t|~r&n)+e[2]+606105819|0,o=(o<<17|o>>>15)+r|0,n+=(o&r|~o&t)+e[3]-1044525330|0,n=(n<<22|n>>>10)+o|0,t+=(n&o|~n&r)+e[4]-176418897|0,t=(t<<7|t>>>25)+n|0,r+=(t&n|~t&o)+e[5]+1200080426|0,r=(r<<12|r>>>20)+t|0,o+=(r&t|~r&n)+e[6]-1473231341|0,o=(o<<17|o>>>15)+r|0,n+=(o&r|~o&t)+e[7]-45705983|0,n=(n<<22|n>>>10)+o|0,t+=(n&o|~n&r)+e[8]+1770035416|0,t=(t<<7|t>>>25)+n|0,r+=(t&n|~t&o)+e[9]-1958414417|0,r=(r<<12|r>>>20)+t|0,o+=(r&t|~r&n)+e[10]-42063|0,o=(o<<17|o>>>15)+r|0,n+=(o&r|~o&t)+e[11]-1990404162|0,n=(n<<22|n>>>10)+o|0,t+=(n&o|~n&r)+e[12]+1804603682|0,t=(t<<7|t>>>25)+n|0,r+=(t&n|~t&o)+e[13]-40341101|0,r=(r<<12|r>>>20)+t|0,o+=(r&t|~r&n)+e[14]-1502002290|0,o=(o<<17|o>>>15)+r|0,n+=(o&r|~o&t)+e[15]+1236535329|0,n=(n<<22|n>>>10)+o|0,t+=(n&r|o&~r)+e[1]-165796510|0,t=(t<<5|t>>>27)+n|0,r+=(t&o|n&~o)+e[6]-1069501632|0,r=(r<<9|r>>>23)+t|0,o+=(r&n|t&~n)+e[11]+643717713|0,o=(o<<14|o>>>18)+r|0,n+=(o&t|r&~t)+e[0]-373897302|0,n=(n<<20|n>>>12)+o|0,t+=(n&r|o&~r)+e[5]-701558691|0,t=(t<<5|t>>>27)+n|0,r+=(t&o|n&~o)+e[10]+38016083|0,r=(r<<9|r>>>23)+t|0,o+=(r&n|t&~n)+e[15]-660478335|0,o=(o<<14|o>>>18)+r|0,n+=(o&t|r&~t)+e[4]-405537848|0,n=(n<<20|n>>>12)+o|0,t+=(n&r|o&~r)+e[9]+568446438|0,t=(t<<5|t>>>27)+n|0,r+=(t&o|n&~o)+e[14]-1019803690|0,r=(r<<9|r>>>23)+t|0,o+=(r&n|t&~n)+e[3]-187363961|0,o=(o<<14|o>>>18)+r|0,n+=(o&t|r&~t)+e[8]+1163531501|0,n=(n<<20|n>>>12)+o|0,t+=(n&r|o&~r)+e[13]-1444681467|0,t=(t<<5|t>>>27)+n|0,r+=(t&o|n&~o)+e[2]-51403784|0,r=(r<<9|r>>>23)+t|0,o+=(r&n|t&~n)+e[7]+1735328473|0,o=(o<<14|o>>>18)+r|0,n+=(o&t|r&~t)+e[12]-1926607734|0,n=(n<<20|n>>>12)+o|0,t+=(n^o^r)+e[5]-378558|0,t=(t<<4|t>>>28)+n|0,r+=(t^n^o)+e[8]-2022574463|0,r=(r<<11|r>>>21)+t|0,o+=(r^t^n)+e[11]+1839030562|0,o=(o<<16|o>>>16)+r|0,n+=(o^r^t)+e[14]-35309556|0,n=(n<<23|n>>>9)+o|0,t+=(n^o^r)+e[1]-1530992060|0,t=(t<<4|t>>>28)+n|0,r+=(t^n^o)+e[4]+1272893353|0,r=(r<<11|r>>>21)+t|0,o+=(r^t^n)+e[7]-155497632|0,o=(o<<16|o>>>16)+r|0,n+=(o^r^t)+e[10]-1094730640|0,n=(n<<23|n>>>9)+o|0,t+=(n^o^r)+e[13]+681279174|0,t=(t<<4|t>>>28)+n|0,r+=(t^n^o)+e[0]-358537222|0,r=(r<<11|r>>>21)+t|0,o+=(r^t^n)+e[3]-722521979|0,o=(o<<16|o>>>16)+r|0,n+=(o^r^t)+e[6]+76029189|0,n=(n<<23|n>>>9)+o|0,t+=(n^o^r)+e[9]-640364487|0,t=(t<<4|t>>>28)+n|0,r+=(t^n^o)+e[12]-421815835|0,r=(r<<11|r>>>21)+t|0,o+=(r^t^n)+e[15]+530742520|0,o=(o<<16|o>>>16)+r|0,n+=(o^r^t)+e[2]-995338651|0,n=(n<<23|n>>>9)+o|0,t+=(o^(n|~r))+e[0]-198630844|0,t=(t<<6|t>>>26)+n|0,r+=(n^(t|~o))+e[7]+1126891415|0,r=(r<<10|r>>>22)+t|0,o+=(t^(r|~n))+e[14]-1416354905|0,o=(o<<15|o>>>17)+r|0,n+=(r^(o|~t))+e[5]-57434055|0,n=(n<<21|n>>>11)+o|0,t+=(o^(n|~r))+e[12]+1700485571|0,t=(t<<6|t>>>26)+n|0,r+=(n^(t|~o))+e[3]-1894986606|0,r=(r<<10|r>>>22)+t|0,o+=(t^(r|~n))+e[10]-1051523|0,o=(o<<15|o>>>17)+r|0,n+=(r^(o|~t))+e[1]-2054922799|0,n=(n<<21|n>>>11)+o|0,t+=(o^(n|~r))+e[8]+1873313359|0,t=(t<<6|t>>>26)+n|0,r+=(n^(t|~o))+e[15]-30611744|0,r=(r<<10|r>>>22)+t|0,o+=(t^(r|~n))+e[6]-1560198380|0,o=(o<<15|o>>>17)+r|0,n+=(r^(o|~t))+e[13]+1309151649|0,n=(n<<21|n>>>11)+o|0,t+=(o^(n|~r))+e[4]-145523070|0,t=(t<<6|t>>>26)+n|0,r+=(n^(t|~o))+e[11]-1120210379|0,r=(r<<10|r>>>22)+t|0,o+=(t^(r|~n))+e[2]+718787259|0,o=(o<<15|o>>>17)+r|0,n+=(r^(o|~t))+e[9]-343485551|0,n=(n<<21|n>>>11)+o|0,i[0]=t+i[0]|0,i[1]=n+i[1]|0,i[2]=o+i[2]|0,i[3]=r+i[3]|0}start(){return this._dataLength=0,this._bufferLength=0,this._state.set(s.stateIdentity),this}appendStr(i){let e=this._buffer8,t=this._buffer32,n=this._bufferLength,o,r;for(r=0;r<i.length;r+=1){if(o=i.charCodeAt(r),o<128)e[n++]=o;else if(o<2048)e[n++]=(o>>>6)+192,e[n++]=o&63|128;else if(o<55296||o>56319)e[n++]=(o>>>12)+224,e[n++]=o>>>6&63|128,e[n++]=o&63|128;else{if(o=(o-55296)*1024+(i.charCodeAt(++r)-56320)+65536,o>1114111)throw new Error("Unicode standard supports code points up to U+10FFFF");e[n++]=(o>>>18)+240,e[n++]=o>>>12&63|128,e[n++]=o>>>6&63|128,e[n++]=o&63|128}n>=64&&(this._dataLength+=64,s._md5cycle(this._state,t),n-=64,t[0]=t[16])}return this._bufferLength=n,this}appendAsciiStr(i){let e=this._buffer8,t=this._buffer32,n=this._bufferLength,o,r=0;for(;;){for(o=Math.min(i.length-r,64-n);o--;)e[n++]=i.charCodeAt(r++);if(n<64)break;this._dataLength+=64,s._md5cycle(this._state,t),n=0}return this._bufferLength=n,this}appendByteArray(i){let e=this._buffer8,t=this._buffer32,n=this._bufferLength,o,r=0;for(;;){for(o=Math.min(i.length-r,64-n);o--;)e[n++]=i[r++];if(n<64)break;this._dataLength+=64,s._md5cycle(this._state,t),n=0}return this._bufferLength=n,this}getState(){let i=this._state;return{buffer:String.fromCharCode.apply(null,Array.from(this._buffer8)),buflen:this._bufferLength,length:this._dataLength,state:[i[0],i[1],i[2],i[3]]}}setState(i){let e=i.buffer,t=i.state,n=this._state,o;for(this._dataLength=i.length,this._bufferLength=i.buflen,n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],o=0;o<e.length;o+=1)this._buffer8[o]=e.charCodeAt(o)}end(i=!1){let e=this._bufferLength,t=this._buffer8,n=this._buffer32,o=(e>>2)+1;this._dataLength+=e;let r=this._dataLength*8;if(t[e]=128,t[e+1]=t[e+2]=t[e+3]=0,n.set(s.buffer32Identity.subarray(o),o),e>55&&(s._md5cycle(this._state,n),n.set(s.buffer32Identity)),r<=4294967295)n[14]=r;else{let w=r.toString(16).match(/(.*?)(.{0,8})$/);if(w===null)return;let ln=parseInt(w[2],16),cn=parseInt(w[1],16)||0;n[14]=ln,n[15]=cn}return s._md5cycle(this._state,n),i?this._state:s._hex(this._state)}};v.stateIdentity=new Int32Array([1732584193,-271733879,-1732584194,271733878]);v.buffer32Identity=new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);v.hexChars="0123456789abcdef";v.hexOut=[];v.onePassHasher=new v;if(v.hashStr("hello")!=="5d41402abc4b2a76b9719d911017c592")throw new Error("Md5 self test failed.");var T=class s{constructor(i,e){this.request=i;this.router=e;let t=localStorage.getItem("user");t?this._user=JSON.parse(t):i.get("/api/me").subscribe(n=>{if(console.log("api me",n),n.error){this.router.navigateByUrl("/login");return}this.set(n.data)})}_user;get user(){return this._user||{}}set(i){this._user=i,localStorage.setItem("user",JSON.stringify(i))}unset(i){this._user=void 0,localStorage.removeItem("user")}valid(){return!!this._user}static \u0275fac=function(e){return new(e||s)(ke(M),ke(k))};static \u0275prov=j({token:s,factory:s.\u0275fac,providedIn:"root"})};var mn=["editor"],Y=class s{constructor(i,e,t,n){this.router=i;this.ns=e;this.request=t;this.us=n}fields=[{key:"username",type:"text",label:"\u7528\u6237\u540D",required:!0},{key:"password",type:"password",label:"\u5BC6\u7801",required:!0}];editor;submit(){if(!this.editor.valid){this.ns.error("\u9519\u8BEF","\u65E0\u6548\u8D26\u53F7\u5BC6\u7801");return}let i=this.editor.value;this.request.post("auth",He(Le({},i),{password:v.hashStr(i.password)})).subscribe(e=>{if(console.log("login",e),e.error)return;let t=e.data;t.token&&localStorage.setItem("token",t.token),t.user&&this.us.set(t.user),this.router.navigateByUrl("/")})}static \u0275fac=function(e){return new(e||s)(d(k),d(ge),d(M),d(T))};static \u0275cmp=z({type:s,selectors:[["app-login"]],viewQuery:function(e,t){if(e&1&&U(mn,7),e&2){let n;D(n=O())&&(t.editor=n.first)}},decls:7,vars:1,consts:[["editor",""],[1,"login"],["nzTitle","\u767B\u5F55"],[3,"submit","fields"],[2,"float","right"],["nz-button","","nzType","primary",3,"click"]],template:function(e,t){if(e&1){let n=C();a(0,"div",1)(1,"nz-card",2)(2,"smart-editor",3,0),h("submit",function(){return m(n),p(t.submit())}),l(),a(4,"div",4)(5,"button",5),h("click",function(){return m(n),p(t.submit())}),_(6,"\u767B \u5F55"),l()()()()}e&2&&(c(2),u("fields",t.fields))},dependencies:[fe,ae,$],styles:["[_nghost-%COMP%]{width:100vw;height:100vh;display:flex;flex-direction:row;align-items:center;justify-content:center;background:#00152a}.login[_ngcontent-%COMP%]{width:400px}"]})};var V=class s{static \u0275fac=function(e){return new(e||s)};static \u0275cmp=z({type:s,selectors:[["app-unknown"]],decls:2,vars:0,consts:[["nzStatus","404","nzTitle","\u627E\u4E0D\u5230\u9875\u9762"],["nz-result-extra","",1,"extra"]],template:function(e,t){e&1&&(a(0,"nz-result",0),f(1,"div",1),l())},dependencies:[Qt],styles:[".extra[_ngcontent-%COMP%]{text-align:center}"]})};var pn=["editor"];function un(s,i){if(s&1){let e=C();a(0,"button",4),h("click",function(){m(e);let n=g();return p(n.submit())}),_(1,"\u4FDD\u5B58"),l()}}var ye=class s{constructor(i,e,t,n){this.request=i;this.route=e;this.ns=t;this.title=n;e.params.subscribe(o=>{this.module=o.module,this.load()})}module="";form={};data={};editor;load(){this.request.get("setting/"+this.module).subscribe(i=>{i.error||(this.data=i.data)}),this.request.get("setting/"+this.module+"/form").subscribe(i=>{i.error||(this.form=i.data,this.title.setTitle("\u8BBE\u7F6E "+this.form.title))})}submit(){this.request.post("setting/"+this.module,this.editor.value).subscribe(i=>{this.ns.success("\u63D0\u793A","\u4FDD\u5B58\u6210\u529F")})}static \u0275fac=function(e){return new(e||s)(d(M),d(bt),d(ge),d(vt))};static \u0275cmp=z({type:s,selectors:[["app-setting"]],viewQuery:function(e,t){if(e&1&&U(pn,7),e&2){let n;D(n=O())&&(t.editor=n.first)}},decls:5,vars:4,consts:[["editor",""],["extra",""],[3,"nzTitle","nzExtra"],[3,"fields","values"],["nz-button","","nzType","primary",3,"click"]],template:function(e,t){if(e&1&&(a(0,"nz-card",2),f(1,"smart-editor",3,0),l(),y(3,un,2,0,"ng-template",null,1,X)),e&2){let n=I(4);u("nzTitle","\u8BBE\u7F6E "+t.form.title)("nzExtra",n),c(),u("fields",t.form.fields)("values",t.data)}},dependencies:[fe,ae,$],encapsulation:2})};var G=["*"],hn=["nz-sider-trigger",""];function fn(s,i){}function gn(s,i){if(s&1&&y(0,fn,0,0,"ng-template",2),s&2){let e=g(),t=I(5);u("ngTemplateOutlet",e.nzZeroTrigger||t)}}function _n(s,i){}function Cn(s,i){if(s&1&&y(0,_n,0,0,"ng-template",2),s&2){let e=g(),t=I(3);u("ngTemplateOutlet",e.nzTrigger||t)}}function zn(s,i){if(s&1&&f(0,"nz-icon",3),s&2){let e=g(2);u("nzType",e.nzCollapsed?"left":"right")}}function yn(s,i){if(s&1&&f(0,"nz-icon",3),s&2){let e=g(2);u("nzType",e.nzCollapsed?"right":"left")}}function vn(s,i){if(s&1&&y(0,zn,1,1,"nz-icon",3)(1,yn,1,1,"nz-icon",3),s&2){let e=g();R(e.nzReverseArrow?0:1)}}function wn(s,i){s&1&&f(0,"nz-icon",4)}function bn(s,i){if(s&1){let e=C();a(0,"div",2),h("click",function(){m(e);let n=g();return p(n.setCollapsed(!n.nzCollapsed))}),l()}if(s&2){let e=g();u("matchBreakPoint",e.matchBreakPoint)("nzCollapsedWidth",e.nzCollapsedWidth)("nzCollapsed",e.nzCollapsed)("nzBreakpoint",e.nzBreakpoint)("nzReverseArrow",e.nzReverseArrow)("nzTrigger",e.nzTrigger)("nzZeroTrigger",e.nzZeroTrigger)("siderWidth",e.widthSetting)}}var ve=(()=>{class s{elementRef;renderer;constructor(e,t){this.elementRef=e,this.renderer=t,this.renderer.addClass(this.elementRef.nativeElement,"ant-layout-content")}static \u0275fac=function(t){return new(t||s)(d(W),d(ee))};static \u0275cmp=z({type:s,selectors:[["nz-content"]],exportAs:["nzContent"],ngContentSelectors:G,decls:1,vars:0,template:function(t,n){t&1&&(L(),H(0))},encapsulation:2,changeDetection:0})}return s})(),Gt=(()=>{class s{elementRef;renderer;constructor(e,t){this.elementRef=e,this.renderer=t,this.renderer.addClass(this.elementRef.nativeElement,"ant-layout-footer")}static \u0275fac=function(t){return new(t||s)(d(W),d(ee))};static \u0275cmp=z({type:s,selectors:[["nz-footer"]],exportAs:["nzFooter"],ngContentSelectors:G,decls:1,vars:0,template:function(t,n){t&1&&(L(),H(0))},encapsulation:2,changeDetection:0})}return s})(),we=(()=>{class s{elementRef;renderer;constructor(e,t){this.elementRef=e,this.renderer=t,this.renderer.addClass(this.elementRef.nativeElement,"ant-layout-header")}static \u0275fac=function(t){return new(t||s)(d(W),d(ee))};static \u0275cmp=z({type:s,selectors:[["nz-header"]],exportAs:["nzHeader"],ngContentSelectors:G,decls:1,vars:0,template:function(t,n){t&1&&(L(),H(0))},encapsulation:2,changeDetection:0})}return s})(),Jt=(()=>{class s{nzCollapsed=!1;nzReverseArrow=!1;nzZeroTrigger=null;nzTrigger=void 0;matchBreakPoint=!1;nzCollapsedWidth=null;siderWidth=null;nzBreakpoint=null;isZeroTrigger=!1;isNormalTrigger=!1;updateTriggerType(){this.isZeroTrigger=this.nzCollapsedWidth===0&&(this.nzBreakpoint&&this.matchBreakPoint||!this.nzBreakpoint),this.isNormalTrigger=this.nzCollapsedWidth!==0}ngOnInit(){this.updateTriggerType()}ngOnChanges(){this.updateTriggerType()}static \u0275fac=function(t){return new(t||s)};static \u0275cmp=z({type:s,selectors:[["","nz-sider-trigger",""]],hostVars:10,hostBindings:function(t,n){t&2&&(Ee("width",n.isNormalTrigger?n.siderWidth:null),te("ant-layout-sider-trigger",n.isNormalTrigger)("ant-layout-sider-zero-width-trigger",n.isZeroTrigger)("ant-layout-sider-zero-width-trigger-right",n.isZeroTrigger&&n.nzReverseArrow)("ant-layout-sider-zero-width-trigger-left",n.isZeroTrigger&&!n.nzReverseArrow))},inputs:{nzCollapsed:"nzCollapsed",nzReverseArrow:"nzReverseArrow",nzZeroTrigger:"nzZeroTrigger",nzTrigger:"nzTrigger",matchBreakPoint:"matchBreakPoint",nzCollapsedWidth:"nzCollapsedWidth",siderWidth:"siderWidth",nzBreakpoint:"nzBreakpoint"},exportAs:["nzSiderTrigger"],features:[Ne],attrs:hn,decls:6,vars:2,consts:[["defaultTrigger",""],["defaultZeroTrigger",""],[3,"ngTemplateOutlet"],[3,"nzType"],["nzType","bars"]],template:function(t,n){t&1&&y(0,gn,1,1,null,2)(1,Cn,1,1,null,2)(2,vn,2,1,"ng-template",null,0,X)(4,wn,1,0,"ng-template",null,1,X),t&2&&(R(n.isZeroTrigger?0:-1),c(),R(n.isNormalTrigger?1:-1))},dependencies:[gt,ce,N],encapsulation:2,changeDetection:0})}return s})(),be=(()=>{class s{platform;cdr;breakpointService;destroy$=new Oe;nzMenuDirective=null;nzCollapsedChange=new P;nzWidth=200;nzTheme="dark";nzCollapsedWidth=80;nzBreakpoint=null;nzZeroTrigger=null;nzTrigger=void 0;nzReverseArrow=!1;nzCollapsible=!1;nzCollapsed=!1;matchBreakPoint=!1;flexSetting=null;widthSetting=null;updateStyleMap(){this.widthSetting=this.nzCollapsed?`${this.nzCollapsedWidth}px`:Mt(this.nzWidth),this.flexSetting=`0 0 ${this.widthSetting}`,this.cdr.markForCheck()}updateMenuInlineCollapsed(){this.nzMenuDirective&&this.nzMenuDirective.nzMode==="inline"&&this.nzCollapsedWidth!==0&&this.nzMenuDirective.setInlineCollapsed(this.nzCollapsed)}setCollapsed(e){e!==this.nzCollapsed&&(this.nzCollapsed=e,this.nzCollapsedChange.emit(e),this.updateMenuInlineCollapsed(),this.updateStyleMap(),this.cdr.markForCheck())}constructor(e,t,n){this.platform=e,this.cdr=t,this.breakpointService=n}ngOnInit(){this.updateStyleMap(),this.platform.isBrowser&&this.breakpointService.subscribe(It,!0).pipe(Ie(this.destroy$)).subscribe(e=>{let t=this.nzBreakpoint;t&&Tt().subscribe(()=>{this.matchBreakPoint=!e[t],this.setCollapsed(this.matchBreakPoint),this.cdr.markForCheck()})})}ngOnChanges(e){let{nzCollapsed:t,nzCollapsedWidth:n,nzWidth:o}=e;(t||n||o)&&this.updateStyleMap(),t&&this.updateMenuInlineCollapsed()}ngAfterContentInit(){this.updateMenuInlineCollapsed()}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}static \u0275fac=function(t){return new(t||s)(d(Ot),d(dt),d(kt))};static \u0275cmp=z({type:s,selectors:[["nz-sider"]],contentQueries:function(t,n,o){if(t&1&&Re(o,Z,5),t&2){let r;D(r=O())&&(n.nzMenuDirective=r.first)}},hostAttrs:[1,"ant-layout-sider"],hostVars:18,hostBindings:function(t,n){t&2&&(Ee("flex",n.flexSetting)("max-width",n.widthSetting)("min-width",n.widthSetting)("width",n.widthSetting),te("ant-layout-sider-zero-width",n.nzCollapsed&&n.nzCollapsedWidth===0)("ant-layout-sider-light",n.nzTheme==="light")("ant-layout-sider-dark",n.nzTheme==="dark")("ant-layout-sider-collapsed",n.nzCollapsed)("ant-layout-sider-has-trigger",n.nzCollapsible&&n.nzTrigger!==null))},inputs:{nzWidth:"nzWidth",nzTheme:"nzTheme",nzCollapsedWidth:"nzCollapsedWidth",nzBreakpoint:"nzBreakpoint",nzZeroTrigger:"nzZeroTrigger",nzTrigger:"nzTrigger",nzReverseArrow:[2,"nzReverseArrow","nzReverseArrow",oe],nzCollapsible:[2,"nzCollapsible","nzCollapsible",oe],nzCollapsed:[2,"nzCollapsed","nzCollapsed",oe]},outputs:{nzCollapsedChange:"nzCollapsedChange"},exportAs:["nzSider"],features:[Ne],ngContentSelectors:G,decls:3,vars:1,consts:[[1,"ant-layout-sider-children"],["nz-sider-trigger","",3,"matchBreakPoint","nzCollapsedWidth","nzCollapsed","nzBreakpoint","nzReverseArrow","nzTrigger","nzZeroTrigger","siderWidth"],["nz-sider-trigger","",3,"click","matchBreakPoint","nzCollapsedWidth","nzCollapsed","nzBreakpoint","nzReverseArrow","nzTrigger","nzZeroTrigger","siderWidth"]],template:function(t,n){t&1&&(L(),a(0,"div",0),H(1),l(),y(2,bn,1,8,"div",1)),t&2&&(c(2),R(n.nzCollapsible&&n.nzTrigger!==null?2:-1))},dependencies:[Jt],encapsulation:2,changeDetection:0})}return s})(),xe=(()=>{class s{directionality;listOfNzSiderComponent;dir="ltr";destroy$=new Oe;constructor(e){this.directionality=e}ngOnInit(){this.dir=this.directionality.value,this.directionality.change?.pipe(Ie(this.destroy$)).subscribe(e=>{this.dir=e})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static \u0275fac=function(t){return new(t||s)(d(Pt))};static \u0275cmp=z({type:s,selectors:[["nz-layout"]],contentQueries:function(t,n,o){if(t&1&&Re(o,be,4),t&2){let r;D(r=O())&&(n.listOfNzSiderComponent=r)}},hostAttrs:[1,"ant-layout"],hostVars:4,hostBindings:function(t,n){t&2&&te("ant-layout-rtl",n.dir==="rtl")("ant-layout-has-sider",n.listOfNzSiderComponent.length>0)},exportAs:["nzLayout"],ngContentSelectors:G,decls:1,vars:0,template:function(t,n){t&1&&(L(),H(0))},encapsulation:2,changeDetection:0})}return s})(),Kt=(()=>{class s{static \u0275fac=function(t){return new(t||s)};static \u0275mod=it({type:s});static \u0275inj=qe({imports:[be,Jt]})}return s})();var F=class s{theme="";constructor(){let i=localStorage.getItem("theme")||"dark";this.loadTheme(i).then(console.log,console.error)}loadCss(i,e){return new Promise((t,n)=>{let o=document.createElement("link");o.rel="stylesheet",o.href=i,o.id=e,o.onload=t,o.onerror=n,document.head.append(o)})}removeUnusedTheme(i){document.documentElement.classList.remove(i);let e=document.getElementById(i);e&&document.head.removeChild(e)}loadTheme(i){return new Promise((e,t)=>{this.loadCss(`${i}.css`,i).then(n=>{document.documentElement.classList.add(i),this.theme&&this.removeUnusedTheme(this.theme),this.theme=i,e(n)},n=>t(n))})}changeTheme(i){this.theme!=i&&(localStorage.setItem("theme",i),this.loadTheme(i).then(console.log,console.error))}static \u0275fac=function(e){return new(e||s)};static \u0275prov=j({token:s,factory:s.\u0275fac,providedIn:"root"})};var Sn=s=>["setting",s];function Mn(s,i){if(s&1&&(a(0,"li",24)(1,"a",25),_(2),l()()),s&2){let e=i.$implicit;c(),u("routerLink",e.url)("queryParams",e.query)("target",e.external?"_blank":"_self"),c(),q(e.name)}}function Tn(s,i){if(s&1&&(a(0,"li",6)(1,"ul"),x(2,Mn,3,4,"li",24,A),l()()),s&2){let e=i.$implicit;u("nzTitle",e.name)("nzIcon",e.nz_icon),c(2),S(e.items)}}function Pn(s,i){if(s&1&&(a(0,"li",8)(1,"a",26),_(2),l()()),s&2){let e=i.$implicit;c(),u("routerLink",ne(2,Sn,e.module)),c(),q(e.title)}}function Dn(s,i){if(s&1){let e=C();a(0,"nz-icon",27),h("click",function(){m(e);let n=g();return p(n.onChangeTheme("default"))}),l()}}function On(s,i){if(s&1){let e=C();a(0,"nz-icon",28),h("click",function(){m(e);let n=g();return p(n.onChangeTheme("dark"))}),l()}}var Se=class s{constructor(i,e,t,n,o,r){this.us=i;this.request=e;this.nzConfigService=t;this.router=n;this.ts=o;this.location=r;this.loadOem(),this.loadMenu(),this.loadSetting(),this.primaryColor=localStorage.getItem("primaryColor"),this.primaryColor&&this.nzConfigService.set("theme",{primaryColor:this.primaryColor})}isCollapsed=!1;oem={name:"BOAT",logo:"/boat.svg",company:"\u5357\u4EAC\u672C\u6613\u7269\u8054\u7F51\u6709\u9650\u516C\u53F8"};colors=[{value:"#188ffe",name:"\u5546\u52A1\u84DD"},{value:"#712ed0",name:"\u9AD8\u8D35\u7D2B"},{value:"#13c0c1",name:"\u84DD\u7EFF\u8272"},{value:"#51c21b",name:"\u6E05\u65B0\u7EFF"},{value:"#e92f96",name:"\u6D0B\u7EA2\u8272"},{value:"#f3222e",name:"\u7EA2\u8272"},{value:"#f88b17",name:"\u6A59\u8272"},{value:"#f8d915",name:"\u9EC4\u8272"},{value:"#f8531d",name:"\u7EEF\u7EA2\u8272"},{value:"#2f53ea",name:"\u6781\u5BA2\u84DD"},{value:"#9fd712",name:"\u7EFF\u9EC4\u8272"},{value:"#f8ac15",name:"\u571F\u8C6A\u91D1"}];menus=[];settings=[];primaryColor;loadOem(){this.request.get("oem").subscribe(i=>{i.error||Object.assign(this.oem,i.data)})}loadMenu(){this.request.get("menus").subscribe(i=>{i.error||(this.menus=i.data)})}loadSetting(){this.request.get("settings").subscribe(i=>{i.error||(this.settings=i.data)})}onChangePrimaryColor(i){this.primaryColor=i,localStorage.setItem("primaryColor",this.primaryColor),this.nzConfigService.set("theme",{primaryColor:this.primaryColor})}onChangeTheme(i){this.ts.changeTheme(i)}logout(){localStorage.removeItem("token"),this.request.get("logout").subscribe(i=>{this.router.navigateByUrl("/login")})}switchDesktop(){localStorage.setItem("ui-mode","desktop"),window.location.href="/"}static \u0275fac=function(e){return new(e||s)(d(T),d(M),d(se),d(k),d(F),d(pt))};static \u0275cmp=z({type:s,selectors:[["app-admin"]],decls:42,vars:9,consts:[["user",""],[1,"app-layout"],["nzCollapsible","","nzWidth","200px","nzBreakpoint","md",1,"menu-sidebar",3,"nzCollapsedChange","nzCollapsed","nzTrigger"],[1,"sidebar-logo"],["alt","logo",3,"src"],["nz-menu","","nzTheme","dark","nzMode","inline",3,"nzInlineCollapsed"],["nz-submenu","",3,"nzTitle","nzIcon"],["nz-submenu","","nzTitle","\u8BBE\u7F6E","nzIcon","setting"],["nz-menu-item","","nzMatchRouter",""],[1,"app-header"],["title","\u6298\u53E0\u83DC\u5355","nz-icon","",1,"header-trigger",3,"click","nzType"],["title","\u56DE\u9000","nz-icon","","nzType","arrow-left",1,"header-icon",3,"click"],["title","\u524D\u8FDB","nz-icon","","nzType","arrow-right",1,"header-icon",3,"click"],[1,"header-content"],["nz-dropdown","",1,"header-user",3,"nzDropdownMenu"],["nz-icon","","nzType","user"],["nz-menu",""],["nz-menu-item",""],["nz-menu-divider",""],["nz-menu-item","",3,"click"],[1,"theme"],["nzType","sun","nzTheme","outline","title","\u4EAE\u8272\u4E3B\u9898"],["nzType","moon","nzTheme","outline","title","\u6697\u8272\u4E3B\u9898"],[1,"inner-content"],["nz-menu-item","","nzMatchRouter","","nzMatchRouterExact",""],[3,"routerLink","queryParams","target"],[3,"routerLink"],["nzType","sun","nzTheme","outline","title","\u4EAE\u8272\u4E3B\u9898",3,"click"],["nzType","moon","nzTheme","outline","title","\u6697\u8272\u4E3B\u9898",3,"click"]],template:function(e,t){if(e&1){let n=C();a(0,"nz-layout",1)(1,"nz-sider",2),at("nzCollapsedChange",function(r){return m(n),st(t.isCollapsed,r)||(t.isCollapsed=r),p(r)}),a(2,"div",3),f(3,"img",4),a(4,"h1"),_(5),l()(),a(6,"ul",5),x(7,Tn,4,2,"li",6,A),a(9,"li",7)(10,"ul"),x(11,Pn,3,4,"li",8,A),l()()()(),a(13,"nz-layout")(14,"nz-header")(15,"div",9)(16,"span",10),h("click",function(){return m(n),p(t.isCollapsed=!t.isCollapsed)}),l(),a(17,"span",11),h("click",function(){return m(n),p(t.location.back())}),l(),a(18,"span",12),h("click",function(){return m(n),p(t.location.forward())}),l(),f(19,"div",13),a(20,"span",14),f(21,"span",15),_(22),l(),a(23,"nz-dropdown-menu",null,0)(25,"ul",16)(26,"li",17),_(27,"\u4E2A\u4EBA\u4E2D\u5FC3"),l(),a(28,"li",17),_(29,"\u4FEE\u6539\u5BC6\u7801"),l(),f(30,"li",18),a(31,"li",19),h("click",function(){return m(n),p(t.switchDesktop())}),_(32,"\u684C\u9762\u6A21\u5F0F"),l(),f(33,"li",18),a(34,"li",19),h("click",function(){return m(n),p(t.logout())}),_(35,"\u9000\u51FA"),l()()(),a(36,"span",20),y(37,Dn,1,0,"nz-icon",21)(38,On,1,0,"nz-icon",22),l()()(),a(39,"nz-content")(40,"div",23),f(41,"router-outlet"),l()()()()}if(e&2){let n=I(24);c(),rt("nzCollapsed",t.isCollapsed),u("nzTrigger",null),c(2),u("src",t.oem.logo,K),c(2),q(t.oem.name),c(),u("nzInlineCollapsed",t.isCollapsed),c(),S(t.menus),c(4),S(t.settings),c(5),u("nzType",t.isCollapsed?"menu-unfold":"menu-fold"),c(4),u("nzDropdownMenu",n),c(2),B(" ",t.us.user.name||t.us.user.id||"\u65E0\u540D"," "),c(15),R(t.ts.theme=="dark"?37:t.ts.theme=="default"?38:-1)}},dependencies:[ve,ue,he,we,N,xe,Z,pe,de,be,me,xt,re],styles:["[_nghost-%COMP%]{display:flex;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.app-layout[_ngcontent-%COMP%]{height:100vh}.menu-sidebar[_ngcontent-%COMP%]{position:relative;z-index:10;min-height:100vh;box-shadow:2px 0 6px #00152959}.sidebar-logo[_ngcontent-%COMP%]{position:relative;height:64px;padding-left:24px;overflow:hidden;line-height:64px;transition:all .3s}.sidebar-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:inline-block;height:32px;width:32px;vertical-align:middle}.sidebar-logo[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{display:inline-block;margin:0 0 0 20px;font-weight:600;font-size:16px;font-family:Avenir,Helvetica Neue,Arial,Helvetica,sans-serif;vertical-align:middle}nz-header[_ngcontent-%COMP%]{padding:0;width:100%;z-index:2}.app-header[_ngcontent-%COMP%]{position:relative;height:64px;padding:0;box-shadow:0 1px 4px #00152914;display:flex;justify-content:center;font-size:20px;overflow:hidden}.header-trigger[_ngcontent-%COMP%]{padding:0 16px;cursor:pointer;transition:all .3s,padding 0s;display:flex;align-content:center;justify-content:center;font-size:20px}.header-icon[_ngcontent-%COMP%]{padding:0 16px;cursor:pointer;display:flex;align-content:center;justify-content:center;font-size:20px}.header-nav[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:0 5px}.header-content[_ngcontent-%COMP%]{flex:1}.header-user[_ngcontent-%COMP%], .theme[_ngcontent-%COMP%]{padding:0 10px;cursor:pointer;display:flex;align-content:center;justify-content:center;font-size:20px}.inner-content[_ngcontent-%COMP%]{padding:10px;height:100%;overflow-x:hidden;overflow-y:auto}"]})};var Me=class s{constructor(i){this.el=i;this.element=this.el.nativeElement}setIndex=new P;screen=new P;isDown=!1;dragDown=!1;dbClick=!1;num=0;t1=1;t2=1;tempX=0;tempY=0;shiftPosition={x:0,y:0};element=null;ngOnInit(){}onDoubleClick(i){this.screen.emit()}onMousedown(i){let e=this.element.getBoundingClientRect(),t=!this.dragDown&&i.clientX>e.left&&i.clientX<e.right-120&&i.clientY>e.top&&i.clientY<e.top+37,n=!this.isDown&&(i.clientX>e.right-10&&i.clientX<e.right||i.clientY>e.bottom-10&&i.clientY<e.bottom);if(t&&(this.dragDown=!0),n){this.isDown=!0;let o=document.createElement("div");o.style.cssText="position: absolute;top: 0;left: 0;width: 100vw;height: 100vh;z-index: 9999;",o.setAttribute("id","mask"),document.body.append(o)}}onMousemove(i){if(this.dragDown&&(this.t1&&(this.tempX=i.clientX,this.tempY=i.clientY,this.t1=0),!this.t1&&this.t2&&(Math.abs(this.tempX-i.clientX)>1||Math.abs(this.tempY-i.clientY)>1)&&(this.t2=0,this.num=1,this.tempX=0,this.tempY=0)),this.dragDown&&this.num){let e=document.createElement("div");e.style.cssText="position: absolute;top: 0;left: 0;width: 100vw;height: 100vh;z-index: 9999;",e.setAttribute("id","mask"),document.body.append(e),this.num=0,this.setIndex.emit()}if(this.isDown){let e=this.element.getBoundingClientRect();this.shiftPosition.x=e.right-i.clientX,this.shiftPosition.y=e.bottom-i.clientY,this.element.style.width=e.width-this.shiftPosition.x+"px",this.element.style.height=e.height-this.shiftPosition.y+"px"}}onMouseup(i){if(this.isDown||this.dragDown){this.t1=1,this.t2=1,this.isDown=!1,this.dragDown=!1;let e=document.getElementById("mask");e&&e.remove()}}static \u0275fac=function(e){return new(e||s)(d(W))};static \u0275dir=ot({type:s,selectors:[["","appFullscreen",""]],hostBindings:function(e,t){e&1&&h("dblclick",function(o){return t.onDoubleClick(o)})("mousedown",function(o){return t.onMousedown(o)})("mousemove",function(o){return t.onMousemove(o)},!1,Fe)("mouseup",function(o){return t.onMouseup(o)},!1,Fe)},outputs:{setIndex:"setIndex",screen:"screen"}})};var In=["iframe"],kn=(s,i,e)=>({width:s,height:i,"z-index":e}),Nn=(s,i)=>({width:s,height:i});function Fn(s,i){if(s&1){let e=C();a(0,"button",19),h("click",function(){m(e);let n=g();return p(n.back())}),f(1,"i",20),l()}}function En(s,i){if(s&1){let e=C();a(0,"button",21),h("click",function(){m(e);let n=g();return p(n.forward())}),f(1,"i",22),l()}}function Rn(s,i){if(s&1){let e=C();a(0,"button",23),h("click",function(){m(e);let n=g();return p(n.minimize())}),f(1,"i",24),l()}}function An(s,i){if(s&1){let e=C();a(0,"button",25),h("click",function(){m(e);let n=g();return p(n.maximize())}),f(1,"i",26),l()}}function Bn(s,i){if(s&1){let e=C();a(0,"button",27),h("click",function(){m(e);let n=g();return p(n.close())}),f(1,"i",28),l()}}var Te=class s{san=E(wt);id=0;index=0;title="";show=!1;_url;set url(i){this._url=this.san.bypassSecurityTrustResourceUrl(i)}onClose=new P;onHide=new P;onIndexChange=new P;width="60vw";height="50vh";dragPosition={x:0,y:0};dynamic=!1;items=[];ngOnInit(){}tabData;setIndex(){this.onIndexChange.emit(this.id)}close(){this.onClose.emit(this.id),this.width="60vw",this.height="50vh"}minimize(){this.onHide.emit(this.id)}showTab(){}maximize(){this.dynamic=!this.dynamic,this.dragPosition={x:0,y:0},this.dynamic?(this.width="100vw",this.height="100vh"):(this.width="60vw",this.height="50vh")}iframe;back(){this.iframe.nativeElement.contentWindow.history.back()}forward(){this.iframe.nativeElement.contentWindow.history.forward()}static \u0275fac=function(e){return new(e||s)};static \u0275cmp=z({type:s,selectors:[["app-window"]],viewQuery:function(e,t){if(e&1&&U(In,5),e&2){let n;D(n=O())&&(t.iframe=n.first)}},inputs:{id:"id",index:"index",title:"title",show:"show",url:"url"},outputs:{onClose:"onClose",onHide:"onHide",onIndexChange:"onIndexChange"},decls:21,vars:13,consts:[["iframe",""],["cdkDrag","",1,"modal",3,"hidden","ngStyle","cdkDragFreeDragPosition"],["appFullscreen","",1,"modal-center",3,"screen","setIndex","ngStyle"],[1,"modal-main"],[1,"modal-right"],[1,"modal-bottom"],[1,"modal-right-bottom"],["cdkDragHandle","",1,"modal-top",3,"click","dblclick"],["nz-space",""],["nz-button","","nzType","default","nzSize","small","title","\u56DE\u9000",3,"click",4,"nzSpaceItem"],["nz-button","","nzType","default","nzSize","small","title","\u524D\u8FDB",3,"click",4,"nzSpaceItem"],[1,"modal-title"],["nz-button","","nzType","default","nzSize","small","title","\u6700\u5C0F\u5316",3,"click",4,"nzSpaceItem"],["nz-button","","nzType","default","nzSize","small","title","\u6700\u5927\u5316",3,"click",4,"nzSpaceItem"],["nz-button","","nzType","default","nzSize","small","title","\u5173\u95ED",3,"click",4,"nzSpaceItem"],[1,"modal-alert"],[1,"modal-detail-content"],[1,"modal-details"],[2,"position","relative",3,"src"],["nz-button","","nzType","default","nzSize","small","title","\u56DE\u9000",3,"click"],["nz-icon","","nzType","arrow-left","nzTheme","outline"],["nz-button","","nzType","default","nzSize","small","title","\u524D\u8FDB",3,"click"],["nz-icon","","nzType","arrow-right","nzTheme","outline"],["nz-button","","nzType","default","nzSize","small","title","\u6700\u5C0F\u5316",3,"click"],["nz-icon","","nzType","minus","nzTheme","outline"],["nz-button","","nzType","default","nzSize","small","title","\u6700\u5927\u5316",3,"click"],["nz-icon","","nzType","border","nzTheme","outline"],["nz-button","","nzType","default","nzSize","small","title","\u5173\u95ED",3,"click"],["nz-icon","","nzType","close","nzTheme","outline"]],template:function(e,t){if(e&1){let n=C();a(0,"div",1)(1,"div",2),h("screen",function(){return m(n),p(t.maximize())})("setIndex",function(){return m(n),p(t.setIndex())}),a(2,"div",3),f(3,"div",4)(4,"div",5)(5,"div",6),a(6,"div",7),h("click",function(){return m(n),p(t.setIndex())})("dblclick",function(){return m(n),p(t.maximize())}),a(7,"div",8),y(8,Fn,2,0,"button",9)(9,En,2,0,"button",10),l(),a(10,"div",11),_(11),l(),a(12,"div",8),y(13,Rn,2,0,"button",12)(14,An,2,0,"button",13)(15,Bn,2,0,"button",14),l()(),a(16,"div",15)(17,"div",16)(18,"div",17),f(19,"iframe",18,0),l()()()()()()}e&2&&(u("hidden",!t.show)("ngStyle",lt(6,kn,t.width,t.height,t.index))("cdkDragFreeDragPosition",t.dragPosition),c(),u("ngStyle",ie(10,Nn,t.width,t.height)),c(10),q(t.title),c(8),u("src",t._url,et))},dependencies:[ft,$t,qt,Ht,Lt,$,N,Me],styles:[".modal[_ngcontent-%COMP%]{position:fixed;margin:auto;inset:0}.modal[_ngcontent-%COMP%]   .modal-center[_ngcontent-%COMP%]{display:flex;width:100%;height:100%}.modal[_ngcontent-%COMP%]   .modal-center[_ngcontent-%COMP%]   .modal-main[_ngcontent-%COMP%]{box-shadow:0 0 20px #00000080;width:100%;height:100%;display:flex;flex-direction:column;border:1px solid rgba(0,0,0,.3);padding:0;text-align:center;overflow:hidden;background-color:#fff;position:relative}.modal[_ngcontent-%COMP%]   .modal-center[_ngcontent-%COMP%]   .modal-main[_ngcontent-%COMP%]   .modal-right[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;right:0;width:.426667rem;height:100%;background-color:transparent;z-index:1}.modal[_ngcontent-%COMP%]   .modal-center[_ngcontent-%COMP%]   .modal-main[_ngcontent-%COMP%]   .modal-right[_ngcontent-%COMP%]:hover{cursor:e-resize}.modal[_ngcontent-%COMP%]   .modal-center[_ngcontent-%COMP%]   .modal-main[_ngcontent-%COMP%]   .modal-bottom[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;right:0;width:100%;height:.426667rem;background-color:transparent;z-index:1}.modal[_ngcontent-%COMP%]   .modal-center[_ngcontent-%COMP%]   .modal-main[_ngcontent-%COMP%]   .modal-bottom[_ngcontent-%COMP%]:hover{cursor:s-resize}.modal[_ngcontent-%COMP%]   .modal-center[_ngcontent-%COMP%]   .modal-main[_ngcontent-%COMP%]   .modal-right-bottom[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0;width:.426667rem;height:.426667rem;background-color:transparent;z-index:1}.modal[_ngcontent-%COMP%]   .modal-center[_ngcontent-%COMP%]   .modal-main[_ngcontent-%COMP%]   .modal-right-bottom[_ngcontent-%COMP%]:hover{cursor:nwse-resize}.modal[_ngcontent-%COMP%]   .modal-center[_ngcontent-%COMP%]   .modal-main[_ngcontent-%COMP%]   .modal-top[_ngcontent-%COMP%]{background-color:#02172b;display:flex;justify-content:space-between;align-items:center;text-align:left;padding:0 .5rem;border-bottom:1px solid #e5e5e5;height:40px}.modal[_ngcontent-%COMP%]   .modal-center[_ngcontent-%COMP%]   .modal-main[_ngcontent-%COMP%]   .modal-top[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]{flex:1;color:#fff;font-size:.826667rem;font-weight:700;cursor:move;padding:0 1em}.modal[_ngcontent-%COMP%]   .modal-center[_ngcontent-%COMP%]   .modal-main[_ngcontent-%COMP%]   .modal-alert[_ngcontent-%COMP%]{position:relative;overflow:hidden;height:100%;box-sizing:border-box}.modal[_ngcontent-%COMP%]   .modal-center[_ngcontent-%COMP%]   .modal-main[_ngcontent-%COMP%]   .modal-alert[_ngcontent-%COMP%]   .modal-detail-content[_ngcontent-%COMP%]{box-sizing:border-box;text-align:left;color:#666;font-size:.373333rem;line-height:.586667rem;height:100%}.modal[_ngcontent-%COMP%]   .modal-center[_ngcontent-%COMP%]   .modal-main[_ngcontent-%COMP%]   .modal-alert[_ngcontent-%COMP%]   .modal-detail-content[_ngcontent-%COMP%]   .modal-details[_ngcontent-%COMP%], .modal[_ngcontent-%COMP%]   .modal-center[_ngcontent-%COMP%]   .modal-main[_ngcontent-%COMP%]   .modal-alert[_ngcontent-%COMP%]   .modal-detail-content[_ngcontent-%COMP%]   .modal-details[_ngcontent-%COMP%]   .modal-tab[_ngcontent-%COMP%]{height:100%}.modal[_ngcontent-%COMP%]   .modal-center[_ngcontent-%COMP%]   .modal-main[_ngcontent-%COMP%]   .modal-alert[_ngcontent-%COMP%]   .modal-detail-content[_ngcontent-%COMP%]   .modal-details[_ngcontent-%COMP%]   .modal-tab[_ngcontent-%COMP%]    >.ant-tabs-card .ant-tabs-content{height:100%}.modal[_ngcontent-%COMP%]   .modal-center[_ngcontent-%COMP%]   .modal-main[_ngcontent-%COMP%]   .modal-alert[_ngcontent-%COMP%]   .modal-detail-content[_ngcontent-%COMP%]   .modal-details[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{width:100%;height:100%;border:none;overflow:auto}"]})};var en=()=>({xs:8,sm:16,md:24}),Vn=(s,i)=>[s,i],jn=s=>({active:s}),je=(s,i)=>i.id;function Wn(s,i){if(s&1){let e=C();a(0,"nz-col",18),h("click",function(){let n=m(e).$implicit,o=g();return p(o.openMenu(n))}),f(1,"img",19),a(2,"div",20)(3,"span",21),_(4),l()()()}if(s&2){let e=i.$implicit;u("nzXs",8)("nzSm",6)("nzMd",4)("nzLg",3),c(),u("src",e.icon||"/app.png",K),c(3),B(" ",e.name," ")}}function Ln(s,i){if(s&1){let e=C();a(0,"li",12),h("click",function(){let n=m(e).$implicit,o=g(2);return p(o.openMenu(n))}),_(1),l()}if(s&2){let e=i.$implicit;c(),B(" ",e.name," ")}}function Hn(s,i){if(s&1&&(a(0,"li",10)(1,"ul"),x(2,Ln,2,1,"li",22,A),l()()),s&2){let e=i.$implicit;u("nzTitle",e.name)("nzIcon",e.nz_icon),c(2),S(e.items)}}function Un(s,i){if(s&1){let e=C();a(0,"div",23),h("click",function(){let n=m(e).$implicit,o=g();return p(o.activeTab(n.id))})("dblclick",function(){let n=m(e).$implicit,o=g();return p(o.onClose(n.id))}),_(1),l()}if(s&2){let e=i.$implicit;u("ngClass",ne(2,jn,e.zIndex>0)),c(),B(" ",e.title," ")}}function qn(s,i){if(s&1){let e=C();a(0,"app-window",24),h("onHide",function(n){m(e);let o=g();return p(o.onHide(n))})("onClose",function(n){m(e);let o=g();return p(o.onClose(n))})("onIndexChange",function(n){m(e);let o=g();return p(o.activeWindow(n))}),l()}if(s&2){let e=i.$implicit;u("id",e.id)("index",e.zIndex)("title",e.title)("url",e.url)("show",e.show)}}var J=class s{constructor(i,e,t,n,o,r,w){this.router=i;this.rs=e;this.nzConfigService=t;this.ts=n;this.ms=o;this.us=r;this.msg=w;this.loadApps(),this.loadOem(),this.loadMenu(),this.loadSetting(),this.primaryColor=localStorage.getItem("primaryColor"),this.primaryColor&&this.nzConfigService.set("theme",{primaryColor:this.primaryColor})}title;show;apps=[];oem={name:"BOAT",logo:"/boat.svg",company:"\u5357\u4EAC\u672C\u6613\u7269\u8054\u7F51\u6709\u9650\u516C\u53F8"};menus=[];settings=[];primaryColor;windows=[];userInfo;showMenu=!1;appIndex={};loadApps(){this.rs.get("shortcuts").subscribe(i=>{i.error||(this.apps=i.data)})}loadOem(){this.rs.get("oem").subscribe(i=>{i.error||Object.assign(this.oem,i.data)})}loadMenu(){this.rs.get("menus").subscribe(i=>{i.error||(this.menus=i.data)})}loadSetting(){this.rs.get("settings").subscribe(i=>{i.error||(this.settings=i.data)})}onHide(i){this.windows.filter((e,t)=>{e.id===i&&(e.show=!1,e.tab=!0)})}onClose(i){this.windows.filter((e,t)=>{e.id===i&&this.windows.splice(t,1)})}activeTab(i){this.windows.filter((e,t)=>{e.id===i&&(e.show=!0)}),this.activeWindow(i)}activeWindow(i){this.windows.filter((e,t)=>{e.zIndex=0,e.id===i&&(e.zIndex=9999)})}idIncrement=0;openMenu(i){if(console.log("open",i),window.innerWidth<800){this.router.navigate([i.entries[0].path]);return}let e={show:!0,url:i.url,title:i.name,zIndex:0,id:this.idIncrement++};this.windows.push(e),this.activeTab(e.id),this.activeWindow(e.id)}setMenu(i,e){this.msg.success("\u8BBE\u7F6E\u6210\u529F")}logout(){localStorage.removeItem("token"),this.rs.get("logout").subscribe(i=>{}).add(()=>this.router.navigateByUrl("/login"))}switchAdmin(){localStorage.setItem("ui-mode","admin"),window.location.href="/"}static \u0275fac=function(e){return new(e||s)(d(k),d(M),d(se),d(F),d(Xt),d(T),d(Zt))};static \u0275cmp=z({type:s,selectors:[["app-desktop"]],decls:30,vars:8,consts:[["start",""],[1,"layout"],[1,"header"],[1,"content"],[3,"nzGutter"],[1,"app",3,"nzXs","nzSm","nzMd","nzLg"],[1,"footer"],["nz-dropdown","","nzTrigger","click","nzPlacement","topRight",1,"start",3,"nzDropdownMenu"],["nz-icon","","nzType","bars"],["nz-menu","","nzTheme","light"],["nz-submenu","",3,"nzTitle","nzIcon"],["nz-submenu","","nzTitle","\u4E2A\u4EBA\u4E2D\u5FC3","nzIcon","user"],["nz-menu-item","",3,"click"],["nz-menu-item","","nzDisabled",""],["nz-menu-divider",""],[1,"tab"],[1,"tab-btn",3,"ngClass"],[3,"id","index","title","url","show"],[1,"app",3,"click","nzXs","nzSm","nzMd","nzLg"],["alt","app",1,"icon",3,"src"],[1,"name"],[1,"inner"],["nz-menu-item",""],[1,"tab-btn",3,"click","dblclick","ngClass"],[3,"onHide","onClose","onIndexChange","id","index","title","url","show"]],template:function(e,t){if(e&1){let n=C();a(0,"nz-layout",1)(1,"nz-header",2),_(2),l(),a(3,"nz-content",3)(4,"nz-row",4),x(5,Wn,5,6,"nz-col",5,je),l()(),a(7,"nz-footer",6)(8,"span",7),f(9,"i",8),_(10," \u5F00\u59CB "),l(),a(11,"nz-dropdown-menu",null,0)(13,"ul",9),x(14,Hn,4,2,"li",10,A),a(16,"li",11)(17,"ul")(18,"li",12),h("click",function(){return m(n),p(t.switchAdmin())}),_(19,"\u5207\u6362\u83DC\u5355\u6A21\u5F0F"),l(),a(20,"li",13),_(21,"\u4E2A\u4EBA\u4E2D\u5FC3"),l(),f(22,"li",14),a(23,"li",12),h("click",function(){return m(n),p(t.logout())}),_(24,"\u9000\u51FA"),l()()()()(),a(25,"div",15),x(26,Un,2,4,"div",16,je),l()()(),x(28,qn,1,5,"app-window",17,je)}if(e&2){let n=I(12);c(2),B(" ",t.oem.name," "),c(2),u("nzGutter",ie(5,Vn,Ae(3,en),Ae(4,en))),c(),S(t.apps),c(3),u("nzDropdownMenu",n),c(6),S(t.menus),c(12),S(t.windows),c(2),S(t.windows)}},dependencies:[xe,we,ve,Nt,Ft,Gt,N,Te,Yt,ue,he,Z,de,me,ht,pe],styles:[".layout[_ngcontent-%COMP%]{width:100vw;height:100vh;overflow:hidden;min-width:400px}.header[_ngcontent-%COMP%]{color:#fff;font-weight:700;font-size:1.2em;padding:0 20px;display:flex;justify-content:center;align-items:center}.header[_ngcontent-%COMP%]   .system[_ngcontent-%COMP%]{flex:1}.header[_ngcontent-%COMP%]   .system[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{width:32px;height:32px}.header[_ngcontent-%COMP%]   .system[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin:0 10px;letter-spacing:2px}.header[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:32px;height:32px}.content[_ngcontent-%COMP%]{overflow-y:auto;overflow-x:hidden;padding:20px;background-image:url(/bk.jpg);background-size:cover;background-position:center}.app[_ngcontent-%COMP%]{padding:20px;text-align:center;border-radius:20px;overflow:hidden}.app[_ngcontent-%COMP%]:hover{background:#a0a0a077}.app[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:60%;background-color:#fff;padding:15px;border-radius:10px}.app[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{margin:10px 0;text-align:center}.app[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]   .inner[_ngcontent-%COMP%]{border-radius:10px;color:#fff;text-shadow:#333333 1px 1px 5px;letter-spacing:1px;font-size:1.1em}.footer[_ngcontent-%COMP%]{height:40px;color:#fff;background-color:#02172bc7;padding:0;line-height:40px;display:flex;-webkit-user-select:none;user-select:none;cursor:pointer}.footer[_ngcontent-%COMP%]   .start[_ngcontent-%COMP%]{padding:0 10px;display:flex;align-items:center;justify-content:center;color:#fff;background-color:#02172b;font-size:1.2em}.footer[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]{flex:1;display:flex}.footer[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]   .tab-btn[_ngcontent-%COMP%]{color:#fff;background-color:#02172b;margin:0 0 0 1px;padding:2px 10px;display:flex;align-items:center;justify-content:center}.footer[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]   .tab-btn.active[_ngcontent-%COMP%]{background-color:#1a3f65}"]})};var tn=[{path:"login",component:Y},{path:"desktop",canActivate:[Pe],component:J},{path:"",canActivate:[Pe],component:Se,children:[{path:"",pathMatch:"full",redirectTo:"page/dash/dash"},{path:"page/:page",component:_e},{path:"page/:app/:page",component:_e},{path:"setting/:module",component:ye},{path:"**",component:V}]},{path:"**",component:V}],nn=[{path:"login",component:Y},{path:"",component:J,canActivate:[Pe]},{path:"page",component:_e,canActivate:[Pe],children:[{path:"**",component:V}]},{path:"**",component:V}];function Pe(s,i){return E(T).valid()?!0:s.parseUrl("/auth")}var on=[At,Bt,Et,Rt];function $n(s){let i=s;return 5}var rn=["zh",[["\u4E0A\u5348","\u4E0B\u5348"],void 0,void 0],void 0,[["\u65E5","\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D"],["\u5468\u65E5","\u5468\u4E00","\u5468\u4E8C","\u5468\u4E09","\u5468\u56DB","\u5468\u4E94","\u5468\u516D"],["\u661F\u671F\u65E5","\u661F\u671F\u4E00","\u661F\u671F\u4E8C","\u661F\u671F\u4E09","\u661F\u671F\u56DB","\u661F\u671F\u4E94","\u661F\u671F\u516D"],["\u5468\u65E5","\u5468\u4E00","\u5468\u4E8C","\u5468\u4E09","\u5468\u56DB","\u5468\u4E94","\u5468\u516D"]],void 0,[["1","2","3","4","5","6","7","8","9","10","11","12"],["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],["\u4E00\u6708","\u4E8C\u6708","\u4E09\u6708","\u56DB\u6708","\u4E94\u6708","\u516D\u6708","\u4E03\u6708","\u516B\u6708","\u4E5D\u6708","\u5341\u6708","\u5341\u4E00\u6708","\u5341\u4E8C\u6708"]],void 0,[["\u516C\u5143\u524D","\u516C\u5143"],void 0,void 0],0,[6,0],["y/M/d","y\u5E74M\u6708d\u65E5",void 0,"y\u5E74M\u6708d\u65E5EEEE"],["HH:mm","HH:mm:ss","z HH:mm:ss","zzzz HH:mm:ss"],["{1} {0}",void 0,void 0,void 0],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"CNY","\xA5","\u4EBA\u6C11\u5E01",{AUD:["AU$","$"],BYN:[void 0,"\u0440."],CNY:["\xA5"],ILR:["ILS"],JPY:["JP\xA5","\xA5"],KRW:["\uFFE6","\u20A9"],PHP:[void 0,"\u20B1"],RUR:[void 0,"\u0440."],TWD:["NT$"],USD:["US$","$"],XXX:[]},"ltr",$n];var Zn="@",Qn=(()=>{class s{doc;delegate;zone;animationType;moduleImpl;_rendererFactoryPromise=null;scheduler=null;injector=E(Xe);loadingSchedulerFn=E(Xn,{optional:!0});_engine;constructor(e,t,n,o,r){this.doc=e,this.delegate=t,this.zone=n,this.animationType=o,this.moduleImpl=r}ngOnDestroy(){this._engine?.flush()}loadImpl(){let e=()=>this.moduleImpl??import("./chunk-VGRI3M3N.js").then(n=>n),t;return this.loadingSchedulerFn?t=this.loadingSchedulerFn(e):t=e(),t.catch(n=>{throw new Ue(5300,!1)}).then(({\u0275createEngine:n,\u0275AnimationRendererFactory:o})=>{this._engine=n(this.animationType,this.doc);let r=new o(this.delegate,this._engine,this.zone);return this.delegate=r,r})}createRenderer(e,t){let n=this.delegate.createRenderer(e,t);if(n.\u0275type===0)return n;typeof n.throwOnSyntheticProps=="boolean"&&(n.throwOnSyntheticProps=!1);let o=new We(n);return t?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(r=>{let w=r.createRenderer(e,t);o.use(w),this.scheduler??=this.injector.get(Ye,null,{optional:!0}),this.scheduler?.notify(10)}).catch(r=>{o.use(n)}),o}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}componentReplaced(e){this._engine?.flush(),this.delegate.componentReplaced?.(e)}static \u0275fac=function(t){nt()};static \u0275prov=j({token:s,factory:s.\u0275fac})}return s})(),We=class{delegate;replay=[];\u0275type=1;constructor(i){this.delegate=i}use(i){if(this.delegate=i,this.replay!==null){for(let e of this.replay)e(i);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(i,e){return this.delegate.createElement(i,e)}createComment(i){return this.delegate.createComment(i)}createText(i){return this.delegate.createText(i)}get destroyNode(){return this.delegate.destroyNode}appendChild(i,e){this.delegate.appendChild(i,e)}insertBefore(i,e,t,n){this.delegate.insertBefore(i,e,t,n)}removeChild(i,e,t){this.delegate.removeChild(i,e,t)}selectRootElement(i,e){return this.delegate.selectRootElement(i,e)}parentNode(i){return this.delegate.parentNode(i)}nextSibling(i){return this.delegate.nextSibling(i)}setAttribute(i,e,t,n){this.delegate.setAttribute(i,e,t,n)}removeAttribute(i,e,t){this.delegate.removeAttribute(i,e,t)}addClass(i,e){this.delegate.addClass(i,e)}removeClass(i,e){this.delegate.removeClass(i,e)}setStyle(i,e,t,n){this.delegate.setStyle(i,e,t,n)}removeStyle(i,e,t){this.delegate.removeStyle(i,e,t)}setProperty(i,e,t){this.shouldReplay(e)&&this.replay.push(n=>n.setProperty(i,e,t)),this.delegate.setProperty(i,e,t)}setValue(i,e){this.delegate.setValue(i,e)}listen(i,e,t,n){return this.shouldReplay(e)&&this.replay.push(o=>o.listen(i,e,t,n)),this.delegate.listen(i,e,t,n)}shouldReplay(i){return this.replay!==null&&i.startsWith(Zn)}},Xn=new $e("");function sn(s="animations"){return Ke("NgAsyncAnimations"),Ze([{provide:tt,useFactory:(i,e,t)=>new Qn(i,e,t,s),deps:[mt,zt,Ge]},{provide:Je,useValue:s==="noop"?"NoopAnimations":"BrowserAnimations"}])}ut(rn);var Yn=localStorage.getItem("ui-mode"),Gn=Yn=="desktop"?nn:tn,an={providers:[ct({eventCoalescing:!0}),St(Gn),Vt(on),Wt(jt),Qe(le),sn(),Ct()]};var De=class s{constructor(i){this.ts=i}static \u0275fac=function(e){return new(e||s)(d(F))};static \u0275cmp=z({type:s,selectors:[["app-root"]],decls:1,vars:0,template:function(e,t){e&1&&f(0,"router-outlet")},dependencies:[_t,re,ce,Kt,Ut,le,Dt],styles:["[_nghost-%COMP%]{width:100%;height:100%;overflow:hidden;display:block}"]})};yt(De,an).catch(s=>console.error("bootstrap:",s));
